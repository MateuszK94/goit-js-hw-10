{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SAEAC,SAASC,OAAOC,KAAK,IAErB,MAAMC,EAAO,CACXC,SAAWC,SAASC,cAAc,eAClCC,YAAcF,SAASC,cAAc,iBACrCE,YAAcH,SAASC,cAAc,kBAMjCG,EAAcC,GAAQA,EAAIC,UAAY,GA8B5C,MAAMC,EAAeC,IACnB,GAAoB,IAAhBA,EAAKC,OAAc,CACrBL,EAAYN,EAAKK,aACjB,MAAMO,EAAaC,EAAiBH,GACpCV,EAAKI,YAAYI,UAAYI,C,KACxB,CACLN,EAAYN,EAAKI,aACjB,MAAMU,EAAaC,EAAiBL,GACpCV,EAAKK,YAAYG,UAAYM,C,GAI3BC,EAAmBL,GAChBA,EACJM,KACC,EAACC,KAAEA,EAAIC,MAAEA,KACP,iBAAiBA,EAAMC,aAAaF,EAAKG,oCAAoCH,EAAKG,kBAErFC,KAAK,IAIJR,EAAmBH,GAChBA,EAAKM,KACV,EAACC,KAAEA,EAAIK,QAAEA,EAAOC,WAAEA,EAAUL,MAAEA,EAAKM,UAAEA,KACnC,aAAaN,EAAMC,aAAaF,EAAKG,kDAC/BH,EAAKG,oCACGE,+BACGC,8BACDE,OAAOC,OAAOF,WAIpCxB,EAAKC,SAAS0B,iBAAiB,SAAS,WACtCC,YAAW,MA9Db,WACE,MAAMC,EAAY7B,EAAKC,SAAS6B,MAAMC,OACtC,IAAKF,EAGH,OAFAvB,EAAYN,EAAKK,kBACjBC,EAAYN,EAAKI,cAKnB,EAAAT,EAAAqC,gBAAeH,GACZI,MAAKvB,IACJ,GAAIA,EAAKC,OAAS,GAMhB,OALAL,EAAYN,EAAKK,aACjBC,EAAYN,EAAKI,kBACjBP,SAASC,OAAOoC,KACd,6DAIJzB,EAAaC,EAAK,IAEnByB,OAAMC,IACL9B,EAAYN,EAAKK,aACjBC,EAAYN,EAAKI,aACjBP,SAASC,OAAOuC,QAAQ,8CAA8C,G,CAuCxEC,CAAaC,KAAKT,MAAM,GACvB,I","sources":["src/index.js"],"sourcesContent":["import { fetchCountries } from \"./fetchCountries.js\";\n\nNotiflix.Notify.Init({});\n\nconst refs = {\n  searchEl : document.querySelector('#search-box'),\n  countryInfo : document.querySelector('.country-info'),\n  countryList : document.querySelector('.country-list'),\n};\n\n// const country_list = document.querySelector('.country-list');\n\n\nconst clearMarkup = ref => (ref.innerHTML = '');\n\nfunction inputHandler() {\n  const textInput = refs.searchEl.value.trim();\n  if (!textInput) {\n    clearMarkup(refs.countryList);\n    clearMarkup(refs.countryInfo);\n    return;\n  }\n\n  \n  fetchCountries(textInput) \n    .then(data => {\n      if (data.length > 10) {\n        clearMarkup(refs.countryList);\n        clearMarkup(refs.countryInfo);\n        Notiflix.Notify.Info(\n          'Too many matches found. Please enter a more specific name'\n        );\n        return;\n      }\n      renderMarkup(data);\n    })\n    .catch(err => {\n      clearMarkup(refs.countryList);\n      clearMarkup(refs.countryInfo);\n      Notiflix.Notify.Failure('Oops..., there is no country with that name');\n    });\n};\n\nconst renderMarkup = data => {\n  if (data.length === 1) {\n    clearMarkup(refs.countryList);\n    const markupInfo = createInfoMarkup(data);\n    refs.countryInfo.innerHTML = markupInfo;\n  } else {\n    clearMarkup(refs.countryInfo);\n    const markupList = createListMarkup(data);\n    refs.countryList.innerHTML = markupList;\n  }\n};\n\nconst createListMarkup = data => {\n  return data\n    .map(\n      ({ name, flags }) =>\n        `<li><img src=\"${flags.png}\" alt=\"${name.official}\" width=\"60\" height=\"40\">${name.official}</li>`\n    )\n    .join('');\n    \n};\n\nconst createInfoMarkup = data => {\n  return data.map(\n    ({ name, capital, population, flags, languages }) =>\n      `<img src=\"${flags.png}\" alt=\"${name.official}\" width=\"200\" height=\"100\">\n      <h1>${name.official}</h1>\n      <p>Capital: ${capital}</p>\n      <p>Population: ${population}</p>\n      <p>Languages: ${Object.values(languages)}</p>`\n  );\n};\n\nrefs.searchEl.addEventListener('input', function() {\n  setTimeout(() => {\n    inputHandler(this.value)\n  }, 300);\n});"],"names":["$gXocT","parcelRequire","Notiflix","Notify","Init","$1f0dc3b9307be026$var$refs","searchEl","document","querySelector","countryInfo","countryList","$1f0dc3b9307be026$var$clearMarkup","ref","innerHTML","$1f0dc3b9307be026$var$renderMarkup","data","length","markupInfo","$1f0dc3b9307be026$var$createInfoMarkup","markupList","$1f0dc3b9307be026$var$createListMarkup","map","name","flags","png","official","join","capital","population","languages","Object","values","addEventListener","setTimeout","textInput","value","trim","fetchCountries","then","Info","catch","err","Failure","$1f0dc3b9307be026$var$inputHandler","this"],"version":3,"file":"index.7a99ee78.js.map"}