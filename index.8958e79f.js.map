{"mappings":"gfAAA,IAAAA,EAAAC,EAAA,SAEAC,SAASC,OAAOC,KAAK,IAErB,IAAMC,EAAO,CACXC,SAAWC,SAASC,cAAc,eAClCC,YAAcF,SAASC,cAAc,iBACrCE,YAAcH,SAASC,cAAc,kBAMjCG,EAAc,SAAAC,G,OAAQA,EAAIC,UAAY,E,EA8B5C,IAAMC,EAAe,SAAAC,GACnB,GAAoB,IAAhBA,EAAKC,OAAc,CACrBL,EAAYN,EAAKK,aACjB,IAAMO,EAAaC,EAAiBH,GACpCV,EAAKI,YAAYI,UAAYI,C,KACxB,CACLN,EAAYN,EAAKI,aACjB,IAAMU,EAAaC,EAAiBL,GACpCV,EAAKK,YAAYG,UAAYM,C,GAI3BC,EAAmB,SAAAL,GACvB,OAAOA,EACJM,KACC,SAAAC,G,IAAGC,EAAID,EAAJC,KAAMC,EAAKF,EAALE,M,MACP,iBAAoCC,OAAnBD,EAAME,IAAI,WAAkDD,OAAzCF,EAAKI,SAAS,6BAAyCF,OAAdF,EAAKI,SAAS,Q,IAE9FC,KAAK,G,EAIJV,EAAmB,SAAAH,GACvB,OAAOA,EAAKM,KACV,SAAAC,G,IAAGC,EAAID,EAAJC,KAAMM,EAAOP,EAAPO,QAASC,EAAUR,EAAVQ,WAAYN,EAAKF,EAALE,MAAOO,EAAST,EAATS,U,MACnC,aAAgCN,OAAnBD,EAAME,IAAI,WACjBD,OAD0BF,EAAKI,SAAS,2CAEhCF,OADRF,EAAKI,SAAS,6BAEHF,OADHI,EAAQ,+BAENJ,OADCK,EAAW,8BACaL,OAAzBO,OAAOC,OAAOF,GAAW,O,KAI/C1B,EAAKC,SAAS4B,iBAAiB,SAAS,W,WACtCC,YAAW,YA9Db,WACE,IAAMC,EAAY/B,EAAKC,SAAS+B,MAAMC,OACtC,IAAKF,EAGH,OAFAzB,EAAYN,EAAKK,kBACjBC,EAAYN,EAAKI,cAKnB,EAAAT,EAAAuC,gBAAeH,GACZI,MAAK,SAAAzB,GACJ,GAAIA,EAAKC,OAAS,GAMhB,OALAL,EAAYN,EAAKK,aACjBC,EAAYN,EAAKI,kBACjBP,SAASC,OAAOsC,KACd,6DAIJ3B,EAAaC,E,IAEd2B,OAAM,SAAAC,GACLhC,EAAYN,EAAKK,aACjBC,EAAYN,EAAKI,aACjBP,SAASC,OAAOyC,QAAQ,8C,IAuC1BC,CAAaC,EAAKT,M,GACjB,I","sources":["src/index.js"],"sourcesContent":["import { fetchCountries } from \"./fetchCountries.js\";\n\nNotiflix.Notify.Init({});\n\nconst refs = {\n  searchEl : document.querySelector('#search-box'),\n  countryInfo : document.querySelector('.country-info'),\n  countryList : document.querySelector('.country-list'),\n};\n\n// const country_list = document.querySelector('.country-list');\n\n\nconst clearMarkup = ref => (ref.innerHTML = '');\n\nfunction inputHandler() {\n  const textInput = refs.searchEl.value.trim();\n  if (!textInput) {\n    clearMarkup(refs.countryList);\n    clearMarkup(refs.countryInfo);\n    return;\n  }\n\n  \n  fetchCountries(textInput) \n    .then(data => {\n      if (data.length > 10) {\n        clearMarkup(refs.countryList);\n        clearMarkup(refs.countryInfo);\n        Notiflix.Notify.Info(\n          'Too many matches found. Please enter a more specific name'\n        );\n        return;\n      }\n      renderMarkup(data);\n    })\n    .catch(err => {\n      clearMarkup(refs.countryList);\n      clearMarkup(refs.countryInfo);\n      Notiflix.Notify.Failure('Oops..., there is no country with that name');\n    });\n};\n\nconst renderMarkup = data => {\n  if (data.length === 1) {\n    clearMarkup(refs.countryList);\n    const markupInfo = createInfoMarkup(data);\n    refs.countryInfo.innerHTML = markupInfo;\n  } else {\n    clearMarkup(refs.countryInfo);\n    const markupList = createListMarkup(data);\n    refs.countryList.innerHTML = markupList;\n  }\n};\n\nconst createListMarkup = data => {\n  return data\n    .map(\n      ({ name, flags }) =>\n        `<li><img src=\"${flags.png}\" alt=\"${name.official}\" width=\"60\" height=\"40\">${name.official}</li>`\n    )\n    .join('');\n    \n};\n\nconst createInfoMarkup = data => {\n  return data.map(\n    ({ name, capital, population, flags, languages }) =>\n      `<img src=\"${flags.png}\" alt=\"${name.official}\" width=\"200\" height=\"100\">\n      <h1>${name.official}</h1>\n      <p>Capital: ${capital}</p>\n      <p>Population: ${population}</p>\n      <p>Languages: ${Object.values(languages)}</p>`\n  );\n};\n\nrefs.searchEl.addEventListener('input', function() {\n  setTimeout(() => {\n    inputHandler(this.value)\n  }, 300);\n});"],"names":["$37gXm","parcelRequire","Notiflix","Notify","Init","$b8f9b7833fa37166$var$refs","searchEl","document","querySelector","countryInfo","countryList","$b8f9b7833fa37166$var$clearMarkup","ref","innerHTML","$b8f9b7833fa37166$var$renderMarkup","data","length","markupInfo","$b8f9b7833fa37166$var$createInfoMarkup","markupList","$b8f9b7833fa37166$var$createListMarkup","map","param","name","flags","concat","png","official","join","capital","population","languages","Object","values","addEventListener","setTimeout","textInput","value","trim","fetchCountries","then","Info","catch","err","Failure","$b8f9b7833fa37166$var$inputHandler","_this"],"version":3,"file":"index.8958e79f.js.map"}